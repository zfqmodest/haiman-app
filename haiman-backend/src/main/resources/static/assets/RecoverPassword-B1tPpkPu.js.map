{"version":3,"file":"RecoverPassword-B1tPpkPu.js","sources":["../../src/pages/auth/RecoverPassword.vue"],"sourcesContent":["<template>\n  <VaForm ref=\"form\" @submit.prevent=\"submit\">\n    <h1 class=\"font-semibold text-4xl mb-4\">重置密码</h1>\n    <p class=\"text-base mb-4 leading-5\">请输入您的邮箱地址，我们将向您发送重置密码的链接。</p>\n    <VaInput\n      v-model=\"formData.email\"\n      :rules=\"[validators.required, validators.email]\"\n      class=\"mb-4\"\n      label=\"邮箱地址\"\n      type=\"email\"\n      :disabled=\"isLoading\"\n    />\n\n    <div class=\"auth-layout__options flex flex-col sm:flex-row items-start sm:items-center justify-between\">\n      <RouterLink :to=\"{ name: 'login' }\" class=\"mt-2 sm:mt-0 font-semibold text-primary\"> 返回登录 </RouterLink>\n    </div>\n\n    <div class=\"flex justify-center mt-4\">\n      <VaButton class=\"w-full\" :loading=\"isLoading\" @click=\"submit\"> 发送重置链接 </VaButton>\n    </div>\n  </VaForm>\n</template>\n\n<script lang=\"ts\" setup>\nimport { reactive, ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useForm, useToast } from 'vuestic-ui'\nimport { validators } from '../../services/utils'\n\nconst { validate } = useForm('form')\nconst { push: routerPush } = useRouter()\nconst { init } = useToast()\n\nconst isLoading = ref(false)\n\nconst formData = reactive({\n  email: '',\n})\n\nconst submit = async () => {\n  if (!validate()) return\n\n  isLoading.value = true\n\n  try {\n    // 模拟发送重置邮件\n    await new Promise((resolve) => setTimeout(resolve, 1000))\n\n    init({\n      message: '重置密码链接已发送到您的邮箱！',\n      color: 'success',\n    })\n\n    // 可以跳转到检查邮件页面或返回登录页面\n    await routerPush({ name: 'login' })\n  } catch (error: any) {\n    console.error('发送重置邮件错误:', error)\n    init({\n      message: '发送失败，请稍后重试',\n      color: 'danger',\n    })\n  } finally {\n    isLoading.value = false\n  }\n}\n</script>\n"],"names":["validate","useForm","routerPush","useRouter","init","useToast","isLoading","ref","formData","reactive","submit","resolve","error"],"mappings":"+YA6BA,KAAM,CAAE,SAAAA,CAAA,EAAaC,EAAQ,MAAM,EAC7B,CAAE,KAAMC,CAAW,EAAIC,EAAU,EACjC,CAAE,KAAAC,GAASC,IAEXC,EAAYC,EAAI,EAAK,EAErBC,EAAWC,EAAS,CACxB,MAAO,EAAA,CACR,EAEKC,EAAS,SAAY,CACrB,GAACV,IAEL,CAAAM,EAAU,MAAQ,GAEd,GAAA,CAEF,MAAM,IAAI,QAASK,GAAY,WAAWA,EAAS,GAAI,CAAC,EAEnDP,EAAA,CACH,QAAS,kBACT,MAAO,SAAA,CACR,EAGD,MAAMF,EAAW,CAAE,KAAM,OAAS,CAAA,QAC3BU,EAAY,CACX,QAAA,MAAM,YAAaA,CAAK,EAC3BR,EAAA,CACH,QAAS,aACT,MAAO,QAAA,CACR,CAAA,QACD,CACAE,EAAU,MAAQ,EACpB,EAAA"}